# Logseq ãƒ—ãƒ©ã‚°ã‚¤ãƒ³: Hierarchy Tool (TOC)

- Logseqã§ã€Œ**éšå±¤**ã€ã‚’ä½¿ç”¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãŸã‚ã®å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã€‚
  1. ãƒ˜ãƒƒãƒ€ãƒ¼ã”ã¨ã«åˆ†å‰²ã—ã€æƒ…å ±é‡ã®å¢—ãˆã¦ã—ã¾ã£ãŸåŒ…æ‹¬çš„ãªãƒšãƒ¼ã‚¸ã‚’ã€ã‚µãƒ–ãƒšãƒ¼ã‚¸ã«åˆ†å‰²ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æä¾›ã—ã¾ã™ã€‚
  1. éšå±¤ã‚„ãƒ˜ãƒƒãƒ€ãƒ¼ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹åŒ…æ‹¬çš„ãªãƒšãƒ¼ã‚¸ã‚’ã€è¡¨ç¤ºã¾ãŸã¯åˆ†å‰²ã™ã‚‹ãŸã‚ã«æœ€é©åŒ–ã•ã‚ŒãŸç›®æ¬¡æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ï¼

> [!WARNING]
>ç¾åœ¨ã€ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯Logseq dbãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹äºˆå®šã§ã™ã€‚

<div align="right">
 
[English](https://github.com/YU000jp/logseq-plugin-hierarchy-tool) / [æ—¥æœ¬èª](https://github.com/YU000jp/logseq-plugin-hierarchy-tool/blob/main/readme.ja.md) [![latest release version](https://img.shields.io/github/v/release/YU000jp/logseq-plugin-hierarchy-tool)](https://github.com/YU000jp/logseq-plugin-hierarchy-tool/releases) [![License](https://img.shields.io/github/license/YU000jp/logseq-plugin-hierarchy-tool?color=blue)](https://github.com/YU000jp/logseq-plugin-hierarchy-tool/LICENSE) [![Downloads](https://img.shields.io/github/downloads/YU000jp/logseq-plugin-hierarchy-tool/total.svg)](https://github.com/YU000jp/logseq-plugin-hierarchy-tool/releases)
<a href="https://www.buymeacoffee.com/yu000japan"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a pizza&emoji=ğŸ•&slug=yu000japan&button_colour=FFDD00&font_colour=000000&font_family=Poppins&outline_colour=000000&coffee_colour=ffffff" /></a>
 </div>

## æ¦‚è¦

<table><tr><td>

- ãƒšãƒ¼ã‚¸ã‚’é–‹ã‹ãšã«ã€éšå±¤ã‚’é ¼ã‚Šã«ç›®çš„ã®ãƒšãƒ¼ã‚¸ã‚’æ¢ã—ã¾ã™ã€‚
  ### **Incremental Page Search**
     - ãƒšãƒ¼ã‚¸æ¤œç´¢æ©Ÿèƒ½ã€‚æ–‡å­—å…¥åŠ›ã«ãƒãƒƒãƒã™ã‚‹ãƒšãƒ¼ã‚¸ã‚’ä¸€è¦§è¡¨ç¤º
  ### **Page Connection**
     - ç¾åœ¨é–‹ã„ã¦ã„ã‚‹ãƒšãƒ¼ã‚¸ã«é–¢é€£ã™ã‚‹ãƒšãƒ¼ã‚¸ã‚’ä¸€è¦§è¡¨ç¤º
     - ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¸‹å´ã§ã¯ãªãã€ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã«ã€ä¸‹ä½éšå±¤ã¸ã®ãƒªãƒ³ã‚¯(Namespace)ã¨ãƒšãƒ¼ã‚¸ã‚¿ã‚°ã®è¡¨ç¤ºã€‚
### **Table of Contents with Sub-pages**
  - ã‚µãƒ–ãƒšãƒ¼ã‚¸ã‚‚çµ±åˆã•ã‚ŒãŸç›®æ¬¡æ©Ÿèƒ½ã€‚
    > â€»ãƒšãƒ¼ã‚¸å†…ã§ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§ã¯ãªãã€ãƒ–ãƒ­ãƒƒã‚¯ã¸ã®ã‚ºãƒ¼ãƒ ã‚¤ãƒ³ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚
  - ã‚µãƒ–ãƒšãƒ¼ã‚¸ã®ä½œæˆã¨ãƒ–ãƒ­ãƒƒã‚¯ã®ç§»å‹•ã‚’ã‚µãƒãƒ¼ãƒˆ

</td>
<td><img src="https://github.com/user-attachments/assets/acaa22a4-8b3d-4934-aea2-201d924f9c46" height="800px" width="350px" /></td>
</tr></table>

---

## å§‹ã‚ã«

Logseq ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  - å³ä¸Šã®ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã§[`---`]ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦[`ãƒ—ãƒ©ã‚°ã‚¤ãƒ³`]ã‚’é–‹ãã¾ã™ã€‚`ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹`ã‚’é¸æŠã—ã€æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«`Headers`ã¨å…¥åŠ›ã—ã€æ¤œç´¢çµæœã‹ã‚‰é¸æŠã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

### ä½¿ç”¨æ–¹æ³•


- ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®ãƒœã‚¿ãƒ³ãŒã€æœ€åˆã®ãƒˆã‚°ãƒ«ã«ãªã£ã¦ã„ã¾ã™ã€‚
   - ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹é–“ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒšãƒ¼ã‚¸ã‚’ç§»å‹•ã—ãŸã‚‰ã€ãã®ãƒšãƒ¼ã‚¸ã®ç›®æ¬¡ã«åˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚
   > æœ€åˆã€ã“ã®ãƒœã‚¿ãƒ³ã¯Logseqã«ã‚ˆã£ã¦éè¡¨ç¤ºã«ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®ã“ã®ãƒœã‚¿ãƒ³ (![ã‚¢ã‚¤ã‚³ãƒ³](https://github.com/YU000jp/logseq-plugin-bullet-point-custom-icon/assets/111847207/136f9d0f-9dcf-4942-9821-c9f692fcfc2f)) ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ãã®å¾Œã€ã“ã® ![image](https://github.com/user-attachments/assets/5445bf64-6c5c-4dcf-981c-ad3ec176930f) ã‚’é¸æŠã—ã¾ã™ã€‚ãã®å¾Œã€ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã« ğŸ¢ ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
- ç›®æ¬¡ã§ã¯ã€ãƒ–ãƒ­ãƒƒã‚¯ã‚’ã‚ºãƒ¼ãƒ ã‚¤ãƒ³ã§é–‹ãã¾ã™ãŒã€ãƒšãƒ¼ã‚¸ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³å†…ã§ã¯ã€éšå±¤ã®ä¸Šä¸‹ç§»å‹•ã®ãŸã‚ã«ã€ãƒšãƒ¼ã‚¸ãŒç›´æ¥é–‹ã‹ãªã„ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚(Ctrl+ã‚¯ãƒªãƒƒã‚¯ã§ãƒšãƒ¼ã‚¸ã¨ã—ã¦é–‹ãã¾ã™)


#### Tip

1. ãƒšãƒ¼ã‚¸åã®éš£ã«ã‚ã‚‹â•ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ã‚µãƒ–ãƒšãƒ¼ã‚¸ã®ä½œæˆãŒãŠã“ãªãˆã¾ã™ã€‚é¡ä¼¼ã™ã‚‹ãƒšãƒ¼ã‚¸åãŒå€™è£œã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
1. ç›®æ¬¡ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’Ctrl+ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãã®ãƒ˜ãƒƒãƒ€ãƒ¼ãŒã‚ã‚‹ãƒ–ãƒ­ãƒƒã‚¯ã¨ãã®ã‚µãƒ–ãƒ–ãƒ­ãƒƒã‚¯ã‚’ã€ã‚µãƒ–ãƒšãƒ¼ã‚¸ã«ç§»è¨­ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
   > æ³¨: ãƒ–ãƒ­ãƒƒã‚¯ã®ç§»è¨­å¾Œã«ã€ãƒ–ãƒ­ãƒƒã‚¯èƒŒæ™¯è‰²ã‚’ç¤ºã™"backgroundcolor"ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒæ®‹ã£ã¦ã—ã¾ã„ã€è‰²ãŒé©ç”¨ã•ã‚Œãªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚"backgroundcolor"ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€"background-color"ã«åç§°ã‚’å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚
1. ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’ãƒˆã‚°ãƒ«ã™ã‚‹ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `Ctrl/Cmd + F1`)
1. ç®‡æ¡æ›¸ã(ãƒ–ãƒ­ãƒƒã‚¯)ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã€Œãƒ–ãƒ­ãƒƒã‚¯ã‚’ãƒšãƒ¼ã‚¸ã«æ˜‡æ ¼ã•ã›ã‚‹ã€
   - ã‚µãƒ–ãƒ–ãƒ­ãƒƒã‚¯ã‚’å«ã‚ã¦ã€æ–°ã—ã„ãƒšãƒ¼ã‚¸ã«ç§»è¨­ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

#### æ³¨æ„äº‹é …

- å†…å®¹ãŒç«¶åˆã™ã‚‹ãŸã‚ã€ã‚ã‚‰ã‹ã˜ã‚ã€ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å†…ã®éšå±¤ã‚„ãƒšãƒ¼ã‚¸ã‚¿ã‚°ã®è¡¨ç¤ºã‚’ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šã§éè¡¨ç¤ºã«ãªã£ã¦ã„ã¾ã™ã€‚
- ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¨ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒé‡ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’ä½¿ã†å ´åˆã¯ã€ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’é–‰ã˜ã¦ãã ã•ã„ã€‚
- ãƒšãƒ¼ã‚¸ã®æƒ…å ±é‡ãŒã‚ã¾ã‚Šã«è†¨å¤§ãªå ´åˆã‚„ã€ãƒšãƒ¼ã‚¸åŸ‹ã‚è¾¼ã¿ãŒã‚³ãƒ³ãƒ†ãƒ³ãƒ„å†…ã«å¤šãå­˜åœ¨ã™ã‚‹å ´åˆã«ã€èª­ã¿è¾¼ã¿ãŒé…ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
- ã»ã‹ã®ç›®æ¬¡æ©Ÿèƒ½ã‚’ã‚‚ã¤ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚ã‚‹å ´åˆã€ãã®æ©Ÿèƒ½ã¯å¿…ãšã‚ªãƒ•ã«ã—ã¦ãã ã•ã„ã€‚
- ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†éš›ã¯ã€Page-tags and Hierarchy ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® Page View UIæ©Ÿèƒ½ã‚’å¿…ãšã‚ªãƒ•ã«ã—ã¦ãã ã•ã„ã€‚
- Side Block ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã£ã¦ã„ã‚‹æ–¹ã¯ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šã§ã€ç›®æ¬¡ã®æ–‡å­—åˆ—å‰Šé™¤ã®å…¥åŠ›æ¬„ã«ã€ã€Œ`#.side(-[a-z])?`ã€ã‚’è¿½åŠ ã—ã¦ãã ã•ã„
- ç›®æ¬¡ã§ã¯ã€1éšå±¤ç›®ã«ã‚ã‚‹ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã¿ãŒæ¤œå‡ºã•ã‚Œã¾ã™ã€‚
- è‡ªå‹•ãƒ˜ãƒƒãƒ€ãƒ¼ã®å ´åˆã¯ã€"heading:: true" ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒä½¿ã‚ã‚Œã¾ã™ã€‚ãã®å ´åˆã€ç›®æ¬¡ã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚

## Demo

![HierarchyTool](https://github.com/user-attachments/assets/f2438a2a-019e-4e7a-bff1-b699a5ebabc3)

---

## ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ / è³ªå• / ã‚¢ã‚¤ãƒ‡ã‚¢ / ãƒ˜ãƒ«ãƒ—

> [ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³](https://github.com/YU000jp/logseq-plugin-hierarchy-tool/discussions)ã‚¿ãƒ–ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€ã“ã®ç¨®ã®è³ªå•ã‚’ã™ã‚‹ã‹è¦‹ã¤ã‘ã¾ã™ã€‚

### TODO

1. [x] ç›®æ¬¡æ©Ÿèƒ½ã®ç§»æ¤
1. [x] ç¾åœ¨ã¯ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¡¨ç¤ºã§å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚
1. [x] ç›®æ¬¡ã®ä¸­ã«ã€ä¸‹ä½éšå±¤ã‚’è¡¨ç¤º
1. [x] ã‚ºãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«å¯¾å¿œ (ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§ã¯ãªãã€ãƒ–ãƒ­ãƒƒã‚¯ã‚ºãƒ¼ãƒ ã«ã™ã‚‹)
1. [x] ãƒšãƒ¼ã‚¸åã§ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã‚’ãŠã“ãªã£ã¦ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ  (ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒ)
1. [x] ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ã‚‚ã¤ãƒ–ãƒ­ãƒƒã‚¯ã‚’ã€ã‚µãƒ–ãƒšãƒ¼ã‚¸åŒ–ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ  (ç›®æ¬¡ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã§Ctrlã‚¯ãƒªãƒƒã‚¯ã‚’ã™ã‚‹)
1. [x] ã‚µãƒ–ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
1. [x] ãƒšãƒ¼ã‚¸ã‚¿ã‚°ã‚„éšå±¤ã®ä¸€è¦§è¡¨ç¤ºã«å¯¾å¿œ (ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å†…ã®ãƒšãƒ¼ã‚¸ã‚¿ã‚°ã‚„éšå±¤ã®è¡¨ç¤ºã‚’ä»£æ›¿ã™ã‚‹å½¹å‰²ã‚’ã‚‚ã¤)
1. [x] ã‚µãƒ–ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã‚µãƒ¼ãƒ (é¡ä¼¼ãƒšãƒ¼ã‚¸ã®æ¤œç´¢)
1. [x] ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã§ã€ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’ãƒˆã‚°ãƒ«å¯èƒ½ã«ã™ã‚‹
1. [ ] Sticky Heading ã‚¹ã‚¿ã‚¤ãƒ« https://github.com/zhouhua/obsidian-sticky-headings
1. [ ] Logseqã®dbãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸå¾Œã«ã€èª¿æ•´ãŒå¿…è¦ã€‚("heading:: true"ãªã©ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨ã—ãªããªã‚‹)

## å…ˆè¡ŒæŠ€è¡“ã¨ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ

- TOC > [Page-level TOC ãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://github.com/benjypng/logseq-toc-plugin)
- TOC > [TOC Generator ãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://github.com/sethyuan/logseq-plugin-tocgen)
- å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ç›®æ¬¡æ©Ÿèƒ½ > [Left Sidebar Enhance ãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://github.com/YU000jp/logseq-plugin-left-sidebar-enhance)
- ã‚¢ã‚¤ã‚³ãƒ³ > [icooon-mono.com](https://icooon-mono.com/10928-%e3%83%93%e3%83%ab%e3%81%ae%e3%82%a2%e3%82%a4%e3%82%b3%e3%83%b3/)
- è£½ä½œè€… > [@YU000jp](https://github.com/YU000jp)
